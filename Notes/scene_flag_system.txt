For pot/crate/freestanding shuffle settings, a custom flag system is used to determine how to shuffle a collectible item, and keep track of collection.

For scene-spawned actors, after the actor is spawned and initialized, the new flag 
is stored in one of the actor's initial/home rotation fields which is unused once the actor spawns. 

The flag consists of the room number within the scene, and the position of the actor within the room's actor list as follows:
 15    14 13   8 7      0
| Unused | Room | Actor # | 

See Actor_UpdateAll_Hook

This flag is combined with the current scene setup ID, which is calculated when a scene loads and is stored in curr_scene_setup. The entire flag is:
 
 15         14 13   8 7      0
| Scene setup | Room | Actor # | 

For collectible items that are dropped (as opposed to spawned in the scene), the flag is set in the variable drop_collectible_override_flag from the actor dropping the item (pot/crate/etc.)
Item_DropCollectible retrieves this flag and passes it into the initial y rotation of the call to ActorSpawn for the Item00 collectible.

---------------------------------------
Flag tables
---------------------------------------
Flags for overridden collectible items are stored in the table:
collectible_override_flags

Flags are stored in these tables for each scene/room/setup, in variable length chunks depending on how many flags are used in a particular scene/room/setup.

The entry point in the table for a particular scene/room/setup is defined in collectible_scene_flags_table
which are dynamically generated by the randomizer depending upon the settings chosen.

The format collectible_scene_flags_table is as follows:
Byte #  | Description
    0   | Number of scenes
    1*  | Scene ID
    2*  | # of rooms/setups in the scene containing shuffled items
    3** | Room/Setup
  4-5** | Offset into collectible_override_flags for the start of the flags for room/setup

* - Repeated for each scene
** - Repeated for each room/setup in the scene

The function get_collectible_flag_offset will iterate through collectible_scene_flags_table and return the offset into collectible_override_flags for a particular scene/room/setup

Flags within collectible_override_flags are retrieved as follows:
collectible_override_flags[table_offset + collectible_flag / 8] & (1 << (collectible_flag % 8));

where: 
table_offset - returned from get_collectible_flag_offset
collectible_flag - the position of the actor in the actor list. 

--------------------
Alternative overrides
--------------------
A handful of collectibles exist within multiple scene setups. In order to consistently shuffle these items across multiple sets, an "alternative override" system is used.

These alternative overrides are stored in a table "alt_overrides" with entries of the form:
typedef struct { 
    override_key_t  alt;
    override_key_t  primary;
} alt_override_t;

In get_override_search_key when creating the override key for EnItem00 (type 0x15) actors, the alt_table is searched for the key. 
If the table contains the key, it uses the "primary" entry as the correct key.